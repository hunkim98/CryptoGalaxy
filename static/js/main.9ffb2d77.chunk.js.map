{"version":3,"sources":["utils/quant/support-resistance.ts","api/upbit.ts","utils/quant/correlation.ts","utils/quant/movingAverage.ts","context/CryptoContext.tsx","utils/clamp.ts","utils/math/Vector4.ts","utils/math/Vector3.ts","utils/math/Vector2.ts","utils/cartesian.ts","utils/math/Matrix2x2.ts","utils/math/Matrix3x3.ts","utils/rotator2d.ts","components/Galaxy/Continent.ts","components/Galaxy/Continents/Examples.ts","components/Galaxy/Planet.ts","components/Galaxy/Sun.ts","components/Galaxy/Canvas.ts","components/Galaxy/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CandleTrend","PROXY_API_URL","getDayCandles","market","count","axios","get","res","console","log","data","getTicker","calcCorrelationCoefficient","candlesA","candlesB","dateAscendingCandlesA","Date","candle_date_time_utc","getTime","length","reverse","dateAscendingCandlesB","prevClosingPricesA","map","el","prev_closing_price","prevClosingPricesB","prevClosingPricesMeanA","reduce","a","b","prevClosingPricesMeanB","prevClosingPricesMeanDiffSquaredSumA","price","Math","pow","prevClosingPricesMeanDiffSquaredSumB","covariance","i","sqrt","calcIncreaseRatioOfMA","candles","interval","Error","MAArray","returnMAArray","dateAscendingCandle","maArray","totalCount","prevClosingPrices","temp_array","slice","average","push","calcSupportResistance","resistance","support","pop","trade_volume","candle_acc_trade_volume","outerLoop","candle","currentDayHighPrice","high_price","currentDayLowPrice","low_price","trade_volume_average","prevSupport","prevResistance","floor","priceRange","leftCandles","rightCandles","unshift","leftTrend","rightTrend","leftCandlesHighLowPrices","high","low","Number","MAX_VALUE","rightCandlesHighLowPrices","leftCandle","finalTrend","opening_price","trade_price","BLUE","RED","rightCandle","CryptoContext","createContext","CryptoContextProvider","children","useState","Map","cryptoData","setCryptoData","retrieveOtherCryptoData","useCallback","dayCount","btcDayCandles","coinMarketData","symbol","split","toLowerCase","coinMarket","find","volume","market_cap","otherCryptoDayCandles","increaseRatio","coefficient","ticker","prev","newMap","set","currentPrice","useEffect","then","btcCandles","Provider","value","changeRelativeValueToRealValue","inputMin","inputMax","returnMin","returnMax","relativeValue","Vector4","x","y","z","w","this","v","dot","n","Vector2","Vector3","scalarBy","One","Zero","UnitX","UnitY","UnitZ","UnitW","isPoint","convertCartesianToScreenPoint","canvas","cartesianPoint","add","width","height","Matrix2x2","InCol0","InCol1","Cols","m","subtract","negative","transposedMatrix","transpose","Matrix3x3","InCol2","toVector2","Rotator2D","InDegree","degree","getClampedValue","clamp","PI","newDegree","cos","toRadian","sin","toAffine","undefined","angle","Continent","points","scale","origin","color","ctx","getContext","save","beginPath","moveTo","point","lineTo","fillStyle","r","g","fill","closePath","restore","ContinentSamples","Planet","distanceFromSun","speed","radius","name","rotator","position","spaceShips","continents","continentOrigins","greenness","random","positionAffineVector","rotateAffineMatrix","getRotateAffineMatrix","selectedContinents","sort","continent","multiplyVector","finalSupportPrice","finalResistancePrice","leftOriginCount","continentOrigin","shift","arc","clip","draw","drawPosition","textAlign","textBaseline","fillText","drawContinents","Sun","brightness","MIN_BRIGHTNESS","MAX_BRIGHTNESS","clampMaxValue","adjustedRadius","clampBrightnessRadius","drawBrightnessInner","drawBrightnessOuter","drawSun","GalaxyCanvas","element","fps","sun","planets","requestAnimationFrameId","MIN_PLANET_SIZE","MAX_PLANET_SIZE","updateFrame","render","setTimeout","requestAnimationFrame","bind","clear","drawBackground","drawScene","initialize","correlationCoefficient","distance","changeRelativeValueToRealValueInversed","size","planet","devicePixelRatio","style","setWidth","setHeight","drawGalaxyComponents","clearRect","Galaxy","canvasRef","useRef","divRef","galaxyCanvasRef","useContext","current","galaxyCanvas","destroy","crypto","setBrightness","includes","addPlanet","onResize","rect","getBoundingClientRect","setSize","window","addEventListener","removeEventListener","background","ref","App","display","flexDirection","minHeight","backgroundColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById"],"mappings":"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","file":"static/js/main.9ffb2d77.chunk.js","sourcesContent":["import { ICandleDayReturnProps } from \"node-upbit/lib/@types/quotation\";\n\nenum CandleTrend {\n  RED = \"RED\", //red means upward\n  BLUE = \"BLUE\", //blue means downward\n}\n\nexport const calcSupportResistance = (\n  candles: Array<ICandleDayReturnProps>\n): { support: Array<number>; resistance: Array<number> } => {\n  const resistance: Array<number> = [];\n  const support: Array<number> = [];\n  const dateAscendingCandle =\n    new Date(candles[0].candle_date_time_utc).getTime() -\n      new Date(candles[candles.length - 1].candle_date_time_utc).getTime() >\n    0\n      ? [...candles].reverse()\n      : candles;\n  dateAscendingCandle.pop(); // we do not need today's candle (the last one)\n  const trade_volume = dateAscendingCandle.map(\n    (el) => el.candle_acc_trade_volume\n  );\n\n  const priceRange = 4;\n\n  const volumeAverageInterval = 10;\n\n  outerLoop: for (let i = 0; i < dateAscendingCandle.length; i++) {\n    if (\n      i - volumeAverageInterval < 0 ||\n      i + volumeAverageInterval > dateAscendingCandle.length\n    ) {\n      continue;\n    }\n    const candle = dateAscendingCandle[i];\n    const currentDayHighPrice = candle.high_price;\n    const currentDayLowPrice = candle.low_price;\n    const trade_volume_average =\n      dateAscendingCandle\n        .slice(i - volumeAverageInterval, i)\n        .map((el) => el.candle_acc_trade_volume)\n        .reduce((a, b) => a + b, 0) / volumeAverageInterval;\n    if (support.length !== 0) {\n      if (currentDayLowPrice < support[support.length - 1]) {\n        // if the price goes lower than the support, the support will be the new resistance\n        const prevSupport = support.pop()!;\n        resistance.push(prevSupport);\n      }\n    }\n    if (resistance.length !== 0) {\n      if (currentDayHighPrice > resistance[resistance.length - 1]) {\n        // if the price goes higher than the resistance, the resistance will be the new support\n        const prevResistance = resistance.pop()!;\n        support.push(prevResistance);\n      }\n    }\n\n    if (trade_volume[i] < trade_volume_average) {\n      // pass the candle that has low trade volume\n      continue;\n    }\n\n    if (\n      i - Math.floor(priceRange / 2) < 0 ||\n      i + Math.floor(priceRange / 2) > dateAscendingCandle.length\n    ) {\n      continue;\n    }\n\n    const leftCandles: Array<ICandleDayReturnProps> = [];\n    const rightCandles: Array<ICandleDayReturnProps> = [];\n    for (let a = 1; a <= Math.floor(priceRange / 2); a++) {\n      leftCandles.unshift(dateAscendingCandle[i - a]);\n      rightCandles.push(dateAscendingCandle[i + a]);\n    }\n    let leftTrend: CandleTrend | null = null;\n    let rightTrend: CandleTrend | null = null;\n    const leftCandlesHighLowPrices = { high: 0, low: Number.MAX_VALUE };\n    const rightCandlesHighLowPrices = { high: 0, low: Number.MAX_VALUE };\n    for (const leftCandle of leftCandles) {\n      if (!leftCandle) {\n        continue outerLoop;\n      }\n      const candleOpenPriceSubtractedByClosingPrice =\n        leftCandle.opening_price - leftCandle.trade_price;\n      let finalTrend: CandleTrend;\n      finalTrend =\n        candleOpenPriceSubtractedByClosingPrice > 0\n          ? CandleTrend.BLUE\n          : CandleTrend.RED;\n\n      if (leftTrend !== null && leftTrend !== finalTrend) {\n        continue outerLoop;\n      }\n\n      leftTrend = finalTrend;\n\n      if (leftCandlesHighLowPrices.high < leftCandle.high_price) {\n        leftCandlesHighLowPrices.high = leftCandle.high_price;\n      }\n      if (leftCandlesHighLowPrices.low > leftCandle.low_price) {\n        leftCandlesHighLowPrices.low = leftCandle.low_price;\n      }\n    }\n\n    for (const rightCandle of rightCandles) {\n      if (!rightCandle) {\n        continue outerLoop;\n      }\n      const candleOpenPriceSubtractedByClosingPrice =\n        rightCandle.opening_price - rightCandle.trade_price;\n      let finalTrend: CandleTrend;\n      finalTrend =\n        candleOpenPriceSubtractedByClosingPrice > 0\n          ? CandleTrend.BLUE\n          : CandleTrend.RED;\n      if (rightTrend !== null && rightTrend !== finalTrend) {\n        continue outerLoop;\n      }\n\n      rightTrend = finalTrend;\n\n      if (rightCandlesHighLowPrices.high < rightCandle.high_price) {\n        rightCandlesHighLowPrices.high = rightCandle.high_price;\n      }\n      if (rightCandlesHighLowPrices.low > rightCandle.low_price) {\n        rightCandlesHighLowPrices.low = rightCandle.low_price;\n      }\n    }\n    if (rightTrend === leftTrend) {\n      continue;\n    }\n    if (leftTrend === CandleTrend.RED && rightTrend === CandleTrend.BLUE) {\n      // there is a possibility that the price is a resistance\n      if (\n        currentDayHighPrice < leftCandlesHighLowPrices.high ||\n        currentDayHighPrice < rightCandlesHighLowPrices.high\n      ) {\n        continue;\n      }\n      resistance.push(currentDayHighPrice);\n    } else {\n      // there is a possibility that the price is a support\n      if (\n        currentDayLowPrice > leftCandlesHighLowPrices.low ||\n        currentDayLowPrice > rightCandlesHighLowPrices.low\n      ) {\n        continue;\n      }\n      support.push(currentDayLowPrice);\n    }\n  }\n  return { support, resistance };\n};\n","import axios from \"axios\";\nimport CoinGecko from \"coingecko-api\";\nimport {\n  ICandleDayReturnProps,\n  ICandleReturnProps,\n  ITickerProps,\n} from \"node-upbit/lib/@types/quotation\";\n\n// const PROXY_API_URL = \"https://upbit-next-proxy.vercel.app/api/\";\n\nconst isDevMode = process.env.NODE_ENV === \"development\";\nconst PROXY_API_URL = isDevMode\n  ? \"/api/\"\n  : \"https://upbit-next-proxy.vercel.app/api/\";\n\nexport const getDayCandles = async (market: string, count: number) => {\n  const res = await axios.get(\n    PROXY_API_URL + \"days\" + `?market=${market}&count=${count}`\n  );\n  console.log(res);\n  return res.data.data as ICandleDayReturnProps[];\n};\n\nexport const getTicker = async (market: string) => {\n  const res = await axios.get(PROXY_API_URL + \"ticker\" + `?market=${market}`);\n  return res.data.data as ITickerProps;\n};\n\nexport const getMinuteCandles = async (market: string) => {\n  const res = await axios.get(PROXY_API_URL + \"minutes\" + `?market=${market}`);\n  return res.data.data as ICandleReturnProps[];\n};\n","import { ICandleDayReturnProps } from \"node-upbit/lib/@types/quotation\";\n\n/**\n * Pearson correlation coefficient (PCC)\n * @param candlesA\n * @param candlesB\n * @returns coefficient between -1 and 1\n */\nexport const calcCorrelationCoefficient = (\n  candlesA: Array<ICandleDayReturnProps>,\n  candlesB: Array<ICandleDayReturnProps>\n) => {\n  const dateAscendingCandlesA =\n    new Date(candlesA[0].candle_date_time_utc).getTime() -\n      new Date(candlesA[candlesA.length - 1].candle_date_time_utc).getTime() >\n    0\n      ? [...candlesA].reverse()\n      : candlesA;\n\n  const dateAscendingCandlesB =\n    new Date(candlesB[0].candle_date_time_utc).getTime() -\n      new Date(candlesB[candlesB.length - 1].candle_date_time_utc).getTime() >\n    0\n      ? [...candlesA].reverse()\n      : candlesA;\n\n  const prevClosingPricesA = dateAscendingCandlesA.map(\n    (el) => el.prev_closing_price\n  );\n\n  const prevClosingPricesB = dateAscendingCandlesB.map(\n    (el) => el.prev_closing_price\n  );\n\n  const prevClosingPricesMeanA =\n    prevClosingPricesA.reduce((a, b) => a + b, 0) / prevClosingPricesA.length;\n\n  const prevClosingPricesMeanB =\n    prevClosingPricesB.reduce((a, b) => a + b, 0) / prevClosingPricesB.length;\n\n  const prevClosingPricesMeanDiffSquaredSumA = prevClosingPricesA\n    .map((price) => Math.pow(price - prevClosingPricesMeanA, 2))\n    .reduce((a, b) => a + b, 0);\n\n  const prevClosingPricesMeanDiffSquaredSumB = prevClosingPricesB\n    .map((price) => Math.pow(price - prevClosingPricesMeanB, 2))\n    .reduce((a, b) => a + b, 0);\n\n  let covariance = 0;\n\n  for (let i = 0; i < candlesA.length; i++) {\n    covariance +=\n      (candlesA[i].prev_closing_price - prevClosingPricesMeanA) *\n      (candlesB[i].prev_closing_price - prevClosingPricesMeanB);\n  }\n\n  return (\n    covariance /\n    (Math.sqrt(prevClosingPricesMeanDiffSquaredSumA) *\n      Math.sqrt(prevClosingPricesMeanDiffSquaredSumB))\n  );\n};\n","import { ICandleDayReturnProps } from \"node-upbit/lib/@types/quotation\";\n\nexport const calcIncreaseRatioOfMA = (\n  candles: Array<ICandleDayReturnProps>,\n  interval: number\n) => {\n  if (candles.length < interval) {\n    throw new Error(\"the inverval is bigger than the passed data \");\n  }\n  const MAArray = returnMAArray(candles, interval);\n  return (MAArray[MAArray.length - 1] - MAArray[0]) / MAArray[0];\n};\n\nexport const returnMAArray = (\n  candles: Array<ICandleDayReturnProps>,\n  interval: number\n) => {\n  const dateAscendingCandle =\n    new Date(candles[0].candle_date_time_utc).getTime() -\n      new Date(candles[candles.length - 1].candle_date_time_utc).getTime() >\n    0\n      ? [...candles].reverse()\n      : candles;\n\n  const maArray: Array<number> = [];\n  const totalCount = dateAscendingCandle.length;\n  const prevClosingPrices = dateAscendingCandle.map(\n    (el) => el.prev_closing_price\n  );\n  for (let i = 0; i < totalCount - (interval - 1); i++) {\n    const temp_array = prevClosingPrices.slice(i, i + (interval - 1));\n    const average = temp_array.reduce((a, b) => a + b, 0) / temp_array.length;\n    maArray.push(average);\n  }\n  return maArray;\n};\n","import { getDayCandles, getTicker } from \"api/upbit\";\nimport { ICandleDayReturnProps } from \"node-upbit/lib/@types/quotation\";\nimport { createContext, useCallback, useEffect, useState } from \"react\";\nimport { calcCorrelationCoefficient } from \"utils/quant/correlation\";\nimport { calcIncreaseRatioOfMA } from \"utils/quant/movingAverage\";\nimport CoinGecko from \"coingecko-api\";\nimport axios from \"axios\";\nimport { CoinGeckoMarketResponse } from \"types/coingecko.res\";\nimport { calcSupportResistance } from \"utils/quant/support-resistance\";\n\ninterface Props {\n  children: React.ReactNode;\n}\n\ninterface CryptoContextElements {\n  cryptoData: Map<string, CryptoDataFields> | undefined;\n}\n\nconst CryptoContext = createContext<CryptoContextElements>(\n  {} as CryptoContextElements\n);\n\nexport type CryptoDataFields = {\n  increaseRatio: number;\n  support?: Array<number>;\n  resistance?: Array<number>;\n  currentPrice?: number;\n  coefficient?: number;\n  volume?: number;\n};\n\nconst allowedCoins = [\"KRW-BTC\"];\n\nconst CryptoContextProvider: React.FC<Props> = ({ children }) => {\n  const [cryptoData, setCryptoData] = useState<Map<string, CryptoDataFields>>(\n    new Map()\n  );\n  const retrieveOtherCryptoData = useCallback(\n    async (\n      market: string,\n      dayCount: number,\n      btcDayCandles: ICandleDayReturnProps[],\n      coinMarketData: CoinGeckoMarketResponse\n    ) => {\n      const symbol = market.split(\"-\")[1].toLowerCase();\n      const coinMarket = coinMarketData.find(\n        (market) => market.symbol === symbol\n      );\n      if (!coinMarket) return;\n      const volume = coinMarket.market_cap;\n      const otherCryptoDayCandles = await getDayCandles(market, dayCount);\n      const increaseRatio = calcIncreaseRatioOfMA(\n        otherCryptoDayCandles.slice(-btcDayCandles.length),\n        20\n      );\n      const coefficient = calcCorrelationCoefficient(\n        btcDayCandles,\n        otherCryptoDayCandles.slice(-btcDayCandles.length)\n      );\n      console.log(increaseRatio, coefficient, symbol);\n      const { support, resistance } = calcSupportResistance(\n        otherCryptoDayCandles\n      );\n      const ticker = await getTicker(market);\n      setCryptoData((prev) => {\n        const newMap = new Map(prev);\n        newMap.set(market, {\n          increaseRatio,\n          coefficient,\n          volume,\n          currentPrice: ticker.trade_price,\n          support,\n          resistance,\n        });\n        return newMap;\n      });\n    },\n    []\n  );\n  useEffect(() => {\n    getDayCandles(\"KRW-BTC\", 30)\n      .then(async (res) => {\n        const btcCandles = res;\n        const increaseRatio = calcIncreaseRatioOfMA(btcCandles, 20);\n        setCryptoData(\n          (prev) => new Map([...prev, [\"KRW-BTC\", { increaseRatio }]])\n        );\n        const coinMarketData = (\n          await axios.get<CoinGeckoMarketResponse>(\n            \"https://api.coingecko.com/api/v3/coins/markets?vs_currency=krw&order=market_cap_desc&per_page=100&page=1&sparkline=false\"\n          )\n        ).data;\n        return { btcCandles, coinMarketData };\n      })\n      // we need btc data first to calculate others\n      .then(({ btcCandles, coinMarketData }) => {\n        retrieveOtherCryptoData(\"KRW-ETH\", 200, btcCandles, coinMarketData);\n        retrieveOtherCryptoData(\"KRW-ETC\", 200, btcCandles, coinMarketData);\n        retrieveOtherCryptoData(\"KRW-APT\", 200, btcCandles, coinMarketData);\n        retrieveOtherCryptoData(\"KRW-SAND\", 200, btcCandles, coinMarketData);\n        retrieveOtherCryptoData(\"KRW-XRP\", 200, btcCandles, coinMarketData);\n        retrieveOtherCryptoData(\"KRW-DOGE\", 200, btcCandles, coinMarketData);\n      });\n\n    getTicker(\"KRW-BTC\").then((res) => {\n      console.log(res);\n    });\n\n    // upbitApi\n    //   .candlesDay(\"KRW-ETH\", 60)\n    //   .then((res) => {\n    //     console.log(res);\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n    // upbitApi.candlesDay(\"KRW-DOGE\", 60).then((res) => {\n    //   console.log(res);\n    // });\n    // upbitApi.ticker([\"KRW-BTC\"]).then((res) => {\n    //   console.log(res[0]);\n    // });\n  }, []);\n\n  const [cryptoCodes, setCryptoCodes] = useState<Array<string>>([]);\n  return (\n    <CryptoContext.Provider value={{ cryptoData }}>\n      {children}\n    </CryptoContext.Provider>\n  );\n};\n\nexport { CryptoContext, CryptoContextProvider };\n","export const clamp = (value: number, min: number, max: number) => {\n  return Math.max(min, Math.min(value, max));\n};\n\nexport const changeRelativeValueToRealValue = (\n  value: number,\n  inputMin: number,\n  inputMax: number,\n  returnMin: number,\n  returnMax: number\n) => {\n  let relativeValue = value;\n  if (relativeValue > inputMax) {\n    relativeValue = inputMax;\n  }\n  if (relativeValue < inputMin) {\n    relativeValue = inputMin;\n  }\n  // this relativeInputValue will be a value between 0 and 1 always\n  const relativeInputValue = (relativeValue - inputMin) / (inputMax - inputMin);\n\n  return relativeInputValue * (returnMax - returnMin) + returnMin;\n};\n\nexport const changeRelativeValueToRealValueInversed = (\n  value: number,\n  inputMin: number,\n  inputMax: number,\n  returnMin: number,\n  returnMax: number\n) => {\n  let relativeValue = value;\n  if (relativeValue > inputMax) {\n    relativeValue = inputMax;\n  }\n  if (relativeValue < inputMin) {\n    relativeValue = inputMin;\n  }\n  // this relativeInputValue will be a value between 0 and 1 always\n  const relativeInputValue =\n    1 - (relativeValue - inputMin) / (inputMax - inputMin);\n\n  return relativeInputValue * (returnMax - returnMin) + returnMin;\n};\n","import { Vector2 } from \"./Vector2\";\nimport { Vector3 } from \"./Vector3\";\n\n//this is also an affine vector for vector3\nexport class Vector4 {\n  x: number;\n  y: number;\n  z: number;\n  w: number;\n\n  static One = new Vector4(1, 1, 1, 1);\n  static Zero = new Vector4(0, 0, 0, 0);\n  static UnitX = new Vector4(1, 0, 0, 0);\n  static UnitY = new Vector4(0, 1, 0, 0);\n  static UnitZ = new Vector4(0, 0, 1, 0);\n  static UnitW = new Vector4(0, 0, 0, 1);\n\n  constructor(x: number, y: number, z: number, w: number) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    this.w = w || 0;\n  }\n  add(v: Vector4) {\n    return new Vector4(this.x + v.x, this.y + v.y, this.z + v.z, this.w + v.w);\n  }\n  subtract(v: Vector4) {\n    return new Vector4(this.x - v.x, this.y - v.y, this.z - v.z, this.w - v.w);\n  }\n  negative(): Vector4 {\n    return new Vector4(-this.x, -this.y, -this.z, -this.w);\n  }\n  dot(v: Vector4): number {\n    return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n  }\n  clone(): Vector4 {\n    return new Vector4(this.x, this.y, this.z, this.w);\n  }\n  length() {\n    return Math.sqrt(this.dot(this));\n  }\n  scalarBy(n: number) {\n    return new Vector4(this.x * n, this.y * n, this.z * n, this.w * n);\n  }\n  equals(v: Vector4) {\n    return this.x === v.x && this.y === v.y && this.z === v.z && this.w === v.w;\n  }\n  toArray(): Array<number> {\n    return [this.x, this.y, this.z, this.w];\n  }\n  toVector2() {\n    return new Vector2(this.x, this.y);\n  }\n\n  toVector3() {\n    return new Vector3(this.x, this.y, this.z);\n  }\n  normalize() {\n    return this.scalarBy(1 / this.length());\n  }\n}\n","//https://evanw.github.io/lightgl.js/docs/vector.html\n\nimport { Vector2 } from \"./Vector2\";\nimport { Vector4 } from \"./Vector4\";\n\nexport class Vector3 {\n  x: number;\n  y: number;\n  z: number;\n\n  static One = new Vector3(1, 1, 1);\n  static Zero = new Vector3(0, 0, 0);\n  static UnitX = new Vector3(1, 0, 0);\n  static UnitY = new Vector3(0, 1, 0);\n  static UnitZ = new Vector3(0, 0, 1);\n  constructor(x: number, y: number, z: number) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n  add(v: Vector3) {\n    return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);\n  }\n  subtract(v: Vector3) {\n    return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);\n  }\n  negative(): Vector3 {\n    return new Vector3(-this.x, -this.y, -this.z);\n  }\n  dot(v: Vector3): number {\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n  }\n  clone(): Vector3 {\n    return new Vector3(this.x, this.y, this.z);\n  }\n  length() {\n    return Math.sqrt(this.dot(this));\n  }\n  scalarBy(n: number) {\n    return new Vector3(this.x * n, this.y * n, this.z * n);\n  }\n  equals(v: Vector3) {\n    return this.x === v.x && this.y === v.y && this.z === v.z;\n  }\n  toAffine(isPoint: boolean): Vector4 {\n    return new Vector4(this.x, this.y, this.z, isPoint ? 1 : 0);\n  }\n  toArray(): Array<number> {\n    return [this.x, this.y, this.z];\n  }\n  toVector2() {\n    return new Vector2(this.x, this.y);\n  }\n  normalize() {\n    return this.scalarBy(1 / this.length());\n  }\n}\n","//https://evanw.github.io/lightgl.js/docs/vector.html\n\nimport { Vector3 } from \"./Vector3\";\n\nexport class Vector2 {\n  x: number;\n  y: number;\n\n  static One = new Vector2(1, 1);\n  static Zero = new Vector2(0, 0);\n  static UnitX = new Vector2(1, 0);\n  static UnitY = new Vector2(0, 1);\n  constructor(x: number, y: number) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n  add(v: Vector2) {\n    return new Vector2(this.x + v.x, this.y + v.y);\n  }\n  subtract(v: Vector2) {\n    return new Vector2(this.x - v.x, this.y - v.y);\n  }\n  negative(): Vector2 {\n    return new Vector2(-this.x, -this.y);\n  }\n  dot(v: Vector2): number {\n    return this.x * v.x + this.y * v.y;\n  }\n  clone(): Vector2 {\n    return new Vector2(this.x, this.y);\n  }\n  length() {\n    return Math.sqrt(this.dot(this));\n  }\n  scalarBy(n: number) {\n    return new Vector2(this.x * n, this.y * n);\n  }\n  equals(v: Vector2) {\n    return this.x === v.x && this.y === v.y;\n  }\n  toAffine(isPoint: boolean): Vector3 {\n    return new Vector3(this.x, this.y, isPoint ? 1 : 0);\n  }\n  toArray(): Array<number> {\n    return [this.x, this.y];\n  }\n  normalize() {\n    return this.scalarBy(1 / this.length());\n  }\n  toScreenPointVector(): Vector2 {\n    return new Vector2(Math.floor(this.x), Math.floor(this.y));\n  }\n}\n","import { Vector2 } from \"./math/Vector2\";\n\nexport const convertCartesianToScreenPoint = (\n  canvas: HTMLCanvasElement,\n  cartesianPoint: Vector2\n) => {\n  const screenPoint = cartesianPoint.add(\n    new Vector2(canvas.width / 2, canvas.height / 2)\n  );\n  return screenPoint;\n};\n","import { Vector2 } from \"./Vector2\";\n\nexport class Matrix2x2 {\n  Cols: Array<Vector2>;\n\n  constructor(\n    InCol0: Vector2 = Vector2.UnitX,\n    InCol1: Vector2 = Vector2.UnitY\n  ) {\n    this.Cols = [InCol0, InCol1];\n  }\n  transpose() {\n    return new Matrix2x2(\n      new Vector2(this.Cols[0].x, this.Cols[1].x),\n      new Vector2(this.Cols[0].y, this.Cols[1].y)\n    );\n  }\n\n  add(m: Matrix2x2) {\n    const col_1 = this.Cols[0].add(m.Cols[0]);\n    const col_2 = this.Cols[1].add(m.Cols[1]);\n    return new Matrix2x2(col_1, col_2);\n  }\n  subtract(m: Matrix2x2) {\n    const col_1 = this.Cols[0].subtract(m.Cols[0]);\n    const col_2 = this.Cols[1].subtract(m.Cols[1]);\n    return new Matrix2x2(col_1, col_2);\n  }\n  scalarBy(x: number) {\n    return new Matrix2x2(this.Cols[0].scalarBy(x), this.Cols[1].scalarBy(x));\n  }\n  negative() {\n    const col_1 = this.Cols[0].negative();\n    const col_2 = this.Cols[1].negative();\n    return new Matrix2x2(col_1, col_2);\n  }\n  determinant() {\n    return this.Cols[0].x * this.Cols[1].y - this.Cols[0].y - this.Cols[1].x;\n  }\n\n  multiplyMatrix(m: Matrix2x2) {\n    const transposedMatrix = this.transpose();\n    return new Matrix2x2(\n      new Vector2(\n        transposedMatrix.Cols[0].dot(m.Cols[0]),\n        transposedMatrix.Cols[1].dot(m.Cols[0])\n      ),\n      new Vector2(\n        transposedMatrix.Cols[0].dot(m.Cols[1]),\n        transposedMatrix.Cols[1].dot(m.Cols[1])\n      )\n    );\n  }\n\n  multiplyVector(v: Vector2) {\n    const transposedMatrix = this.transpose();\n    return new Vector2(\n      transposedMatrix.Cols[0].dot(v),\n      transposedMatrix.Cols[1].dot(v)\n    );\n  }\n}\n","import { Matrix2x2 } from \"./Matrix2x2\";\nimport { Vector3 } from \"./Vector3\";\n\nexport class Matrix3x3 {\n  Cols: Array<Vector3>;\n\n  constructor(\n    InCol0: Vector3 = Vector3.UnitX,\n    InCol1: Vector3 = Vector3.UnitY,\n    InCol2: Vector3 = Vector3.UnitZ\n  ) {\n    this.Cols = [InCol0, InCol1, InCol2];\n  }\n\n  transpose() {\n    return new Matrix3x3(\n      new Vector3(this.Cols[0].x, this.Cols[1].x, this.Cols[2].x),\n      new Vector3(this.Cols[0].y, this.Cols[1].y, this.Cols[2].y),\n      new Vector3(this.Cols[0].z, this.Cols[1].z, this.Cols[2].z)\n    );\n  }\n\n  add(m: Matrix3x3) {\n    const col_1 = this.Cols[0].add(m.Cols[0]);\n    const col_2 = this.Cols[1].add(m.Cols[1]);\n    const col_3 = this.Cols[2].add(m.Cols[2]);\n    return new Matrix3x3(col_1, col_2, col_3);\n  }\n  subtract(m: Matrix3x3) {\n    const col_1 = this.Cols[0].subtract(m.Cols[0]);\n    const col_2 = this.Cols[1].subtract(m.Cols[1]);\n    const col_3 = this.Cols[2].subtract(m.Cols[2]);\n    return new Matrix3x3(col_1, col_2, col_3);\n  }\n\n  scalarBy(x: number) {\n    return new Matrix3x3(\n      this.Cols[0].scalarBy(x),\n      this.Cols[1].scalarBy(x),\n      this.Cols[2].scalarBy(x)\n    );\n  }\n\n  negative() {\n    const col_1 = this.Cols[0].negative();\n    const col_2 = this.Cols[1].negative();\n    const col_3 = this.Cols[2].negative();\n    return new Matrix3x3(col_1, col_2, col_3);\n  }\n\n  determinant() {}\n\n  multiplyMatrix(m: Matrix3x3) {\n    const transposedMatrix = this.transpose();\n    return new Matrix3x3(\n      new Vector3(\n        transposedMatrix.Cols[0].dot(m.Cols[0]),\n        transposedMatrix.Cols[1].dot(m.Cols[0]),\n        transposedMatrix.Cols[2].dot(m.Cols[0])\n      ),\n      new Vector3(\n        transposedMatrix.Cols[0].dot(m.Cols[1]),\n        transposedMatrix.Cols[1].dot(m.Cols[1]),\n        transposedMatrix.Cols[2].dot(m.Cols[1])\n      ),\n      new Vector3(\n        transposedMatrix.Cols[0].dot(m.Cols[2]),\n        transposedMatrix.Cols[1].dot(m.Cols[2]),\n        transposedMatrix.Cols[2].dot(m.Cols[2])\n      )\n    );\n  }\n\n  multiplyVector(v: Vector3) {\n    const transposedMatrix = this.transpose();\n    return new Vector3(\n      transposedMatrix.Cols[0].dot(v),\n      transposedMatrix.Cols[1].dot(v),\n      transposedMatrix.Cols[2].dot(v)\n    );\n  }\n\n  toMatrix2x2() {\n    return new Matrix2x2(this.Cols[0].toVector2(), this.Cols[1].toVector2());\n  }\n}\n","import { Matrix2x2 } from \"./math/Matrix2x2\";\nimport { Matrix3x3 } from \"./math/Matrix3x3\";\nimport { Vector2 } from \"./math/Vector2\";\n\nexport class Rotator2D {\n  degree: number;\n  static getClampedValue(InDegree: number) {\n    let angle = InDegree % 360;\n    if (angle < 0) {\n      angle += 360;\n    }\n    return angle;\n  }\n  constructor(InDegree: number) {\n    this.degree = InDegree;\n  }\n  clamp() {\n    this.degree = Rotator2D.getClampedValue(this.degree);\n  }\n  toRadian() {\n    this.clamp();\n    return (this.degree * Math.PI) / 180;\n  }\n  update(newDegree: number) {\n    this.degree = Rotator2D.getClampedValue(newDegree);\n  }\n  getRotateMatrix() {\n    const cos = Math.cos(this.toRadian());\n    const sin = Math.sin(this.toRadian());\n    const rotateMatrix: Matrix2x2 = new Matrix2x2(\n      new Vector2(cos, sin),\n      new Vector2(-sin, cos)\n    );\n    return rotateMatrix;\n  }\n  getRotateAffineMatrix() {\n    const cos = Math.cos(this.toRadian());\n    const sin = Math.sin(this.toRadian());\n    const rotateMatrix: Matrix3x3 = new Matrix3x3(\n      new Vector2(cos, sin).toAffine(false),\n      new Vector2(-sin, cos).toAffine(false),\n      undefined //UnitZ\n    );\n    return rotateMatrix;\n  }\n}\n","import { Vector2 } from \"utils/math/Vector2\";\n\nexport class Continent {\n  canvas: HTMLCanvasElement;\n  points: Vector2[];\n  scale: number = 1;\n  constructor(canvas: HTMLCanvasElement, points: Vector2[], scale = 1) {\n    this.canvas = canvas;\n    this.points = points;\n    this.scale = scale;\n  }\n\n  draw(origin: Vector2, color: { r: number; g: number; b: number; a: number }) {\n    const ctx = this.canvas.getContext(\"2d\")!;\n\n    ctx.save();\n    // ctx.transform(1, 0, 0, -1, origin.x * 2, origin.y * 2);\n\n    ctx.beginPath();\n\n    ctx.moveTo(\n      this.points[0].x * this.scale + origin.x,\n      -this.points[0].y * this.scale + origin.y\n    );\n\n    for (const point of this.points) {\n      ctx.lineTo(\n        point.x * this.scale + origin.x,\n        -point.y * this.scale + origin.y\n      );\n    }\n\n    ctx.fillStyle = `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})`;\n    ctx.fill();\n\n    ctx.closePath();\n\n    ctx.restore();\n    return;\n  }\n}\n","import { Vector2 } from \"utils/math/Vector2\";\n\nexport const Continent1: Array<Vector2> = [\n  new Vector2(0, 0.7),\n  new Vector2(-0.4, 1),\n  new Vector2(-0.8, 0.6),\n  new Vector2(-0.5, 0.1),\n  new Vector2(-0.15, 0),\n  new Vector2(-0.1, -0.6),\n  new Vector2(0.1, -0.8),\n  new Vector2(0.3, -0.5),\n  new Vector2(0.45, 0),\n  new Vector2(0.7, 0.3),\n  new Vector2(0.6, 0.6),\n  new Vector2(0.2, 0.76),\n];\n\nexport const Continent2: Array<Vector2> = [\n  new Vector2(0.3, 0.8),\n  new Vector2(-0.3, 0.7),\n  new Vector2(-0.25, 0.1),\n  new Vector2(-0.25, 0.1),\n  new Vector2(-0.1, 0),\n  new Vector2(-0.2, -0.2),\n  new Vector2(0.2, -0.6),\n  new Vector2(0.6, -0.1),\n  new Vector2(0.4, 0.15),\n  new Vector2(0.5, 0.4),\n];\n\nexport const Continent3: Array<Vector2> = [\n  new Vector2(-0.1, 0.5),\n  new Vector2(-0.7, 0.2),\n  new Vector2(-0.6, -0.3),\n  new Vector2(-0.2, -0.4),\n  new Vector2(0.3, -0.35),\n  new Vector2(0.6, -0.1),\n  new Vector2(0.65, 0.1),\n  new Vector2(0.4, 0.5),\n  new Vector2(0.2, 0.35),\n];\n\nexport const Continent4: Array<Vector2> = [\n  new Vector2(-0.3, 0.35),\n  new Vector2(-0.7, 0.1),\n  new Vector2(-0.4, -0.2),\n  new Vector2(0.1, 0.05),\n  new Vector2(0.45, -0.15),\n  new Vector2(0.75, 0.1),\n  new Vector2(0.4, 0.4),\n  new Vector2(0.1, 0.3),\n];\n\nexport const Continent5: Array<Vector2> = [\n  new Vector2(-0.5, 0.5),\n  new Vector2(-0.7, 0.3),\n  new Vector2(-0.3, 0),\n  new Vector2(-0.4, -0.4),\n  new Vector2(0, -0.8),\n  new Vector2(0.8, -0.5),\n  new Vector2(0.9, -0.3),\n  new Vector2(0.2, 0.4),\n];\n\nexport const Continent6: Array<Vector2> = [\n  new Vector2(0, 0.9),\n  new Vector2(-0.5, 0.7),\n  new Vector2(-0.2, 0.2),\n  new Vector2(-0.4, -0.4),\n  new Vector2(0.3, -0.2),\n  new Vector2(0.5, 0),\n  new Vector2(0.6, 0.7),\n];\n\nexport const Continent7: Array<Vector2> = [\n  new Vector2(0, 0.7),\n  new Vector2(-0.5, 0.6),\n  new Vector2(-0.3, 0.1),\n  new Vector2(0, 0),\n  new Vector2(0.1, -0.6),\n  new Vector2(0.45, 0),\n  new Vector2(0.7, 0.3),\n  new Vector2(0.6, 0.6),\n  new Vector2(0.2, 0.76),\n];\n\nexport const Continent8: Array<Vector2> = [\n  new Vector2(0, 0.8),\n  new Vector2(-0.25, 0.1),\n  new Vector2(-0.5, 0.1),\n  new Vector2(-0.4, -0.4),\n  new Vector2(-0.2, -0.6),\n  new Vector2(0.3, -0),\n  new Vector2(0.4, 0.15),\n  new Vector2(0.5, 0.4),\n];\n\nexport const Continent9: Array<Vector2> = [\n  new Vector2(-0.5, 0.35),\n  new Vector2(-0.4, 0.1),\n  new Vector2(-0.1, -0.2),\n  new Vector2(0.3, -0.5),\n  new Vector2(0.6, -0.15),\n  new Vector2(0.9, 0.1),\n  new Vector2(0.45, 0.4),\n  new Vector2(0.1, 0.3),\n];\n\nexport const Continent10: Array<Vector2> = [\n  new Vector2(-0.4, 0.5),\n  new Vector2(-0.5, 0.2),\n  new Vector2(-0.8, -0.5),\n  new Vector2(-0.5, -0.4),\n  new Vector2(0.1, -0.35),\n  new Vector2(0.4, -0.3),\n  new Vector2(0.65, 0.1),\n  new Vector2(0.4, 0.2),\n  new Vector2(0.2, 0.4),\n];\n\nexport const ContinentSamples = [\n  Continent1,\n  Continent2,\n  Continent3,\n  Continent4,\n  Continent5,\n  Continent6,\n  Continent7,\n  Continent8,\n  Continent9,\n  Continent10,\n];\n","import { changeRelativeValueToRealValue } from \"utils/clamp\";\nimport { convertCartesianToScreenPoint } from \"../../utils/cartesian\";\nimport { Vector2 } from \"../../utils/math/Vector2\";\nimport { Rotator2D } from \"../../utils/rotator2d\";\nimport { Continent } from \"./Continent\";\nimport { ContinentSamples } from \"./Continents/Examples\";\nimport { Spaceship } from \"./Spaceship\";\n\nexport class Planet {\n  name: string;\n  canvas: HTMLCanvasElement;\n  rotator: Rotator2D;\n  radius: number;\n  position: Vector2;\n  speed: number;\n  distanceFromSun: number;\n  spaceShips: Array<Spaceship>;\n  continents: Array<Continent>;\n  continentOrigins: Array<Vector2>;\n  ctx: CanvasRenderingContext2D;\n  price: number;\n  support: Array<number>;\n  resistance: Array<number>;\n  greenness: number | null = null;\n  constructor(\n    canvas: HTMLCanvasElement,\n    distanceFromSun: number,\n    speed: number,\n    radius: number,\n    name: string,\n    price: number,\n    support: Array<number>,\n    resistance: Array<number>\n  ) {\n    this.name = name;\n    this.canvas = canvas;\n    this.speed = speed;\n    this.rotator = new Rotator2D(Math.random() * 360);\n    this.distanceFromSun = distanceFromSun;\n    this.radius = radius;\n    this.spaceShips = [];\n    this.ctx = this.canvas.getContext(\"2d\")!;\n    this.price = price;\n    this.resistance = resistance;\n    this.support = support;\n    const positionAffineVector = new Vector2(distanceFromSun, 0).toAffine(true);\n    const rotateAffineMatrix = this.rotator.getRotateAffineMatrix();\n    const shuffledContinents = ContinentSamples.sort(() => 0.5 - Math.random());\n    const selectedContinents = shuffledContinents.slice(0, 5);\n    this.continents = selectedContinents.map((continent) => {\n      return new Continent(this.canvas, continent, 20);\n    });\n    this.position = rotateAffineMatrix\n      .multiplyVector(positionAffineVector)\n      .toVector2();\n    this.continentOrigins = [\n      new Vector2(0, -this.radius),\n      new Vector2(0, this.radius),\n    ];\n    console.log(support, resistance, this.name);\n    if (support.length === 0 && resistance.length === 0) {\n      this.greenness = 0;\n    } else if (support.length === 0 && resistance.length !== 0) {\n      this.greenness = 30;\n    } else if (resistance.length === 0 && support.length !== 0) {\n      this.greenness = 255;\n    } else {\n      console.log(\n        support[support.length - 1],\n        price,\n        resistance[resistance.length - 1],\n        this.name\n      );\n      let finalSupportPrice = support[support.length - 1];\n      let finalResistancePrice = resistance[resistance.length - 1];\n      while (price > finalResistancePrice && resistance.length > 0) {\n        resistance.pop();\n        finalResistancePrice = resistance[resistance.length - 1];\n      }\n      while (price < finalSupportPrice && support.length > 0) {\n        support.pop();\n        finalSupportPrice = support[support.length - 1];\n      }\n      if (resistance.length === 0) {\n        this.greenness = 255;\n      }\n      if (support.length === 0) {\n        this.greenness = 10;\n      }\n\n      if (support.length !== 0 && resistance.length !== 0) {\n        this.greenness = changeRelativeValueToRealValue(\n          price,\n          finalSupportPrice,\n          finalResistancePrice,\n\n          10,\n          255\n        );\n      }\n      console.log(this.greenness, \"greenness!!\");\n    }\n    const leftOriginCount =\n      this.continents.length - this.continentOrigins.length;\n    for (let i = 0; i < leftOriginCount; i++) {\n      const angle = (Math.PI * 2) / leftOriginCount;\n      const origin = new Vector2(\n        Math.cos(angle * i),\n        Math.sin(angle * i)\n      ).scalarBy(Math.random() * this.radius);\n      this.continentOrigins.push(origin);\n    }\n  }\n\n  drawContinents(origin: Vector2) {\n    for (const continentOrigin of this.continentOrigins) {\n      const continent = this.continents.shift()!;\n      this.ctx.save();\n      this.ctx.arc(origin.x, origin.y, this.radius, 0, 2 * Math.PI, false);\n      this.ctx.clip();\n      continent.draw(origin.add(continentOrigin), {\n        r: this.greenness ? 255 - this.greenness : 0,\n        g: this.greenness ?? 0,\n        b: 0,\n        a: 1,\n      });\n      this.ctx.restore();\n      this.continents.push(continent);\n    }\n    // const northPoleContinent = this.continents[0];\n    // const southPoleContinent = this.continents[1];\n    // northPoleContinent.draw(origin.subtract(new Vector2(0, this.radius)), {\n    //   r: 255,\n    //   g: 0,\n    //   b: 255,\n    //   a: 1,\n    // });\n    // southPoleContinent.draw(origin.add(new Vector2(0, this.radius)), {\n    //   r: 255,\n    //   g: 0,\n    //   b: 255,\n    //   a: 1,\n    // });\n    // for (let i = 2; i < this.continents.length; i++) {\n    //   const continent = this.continents[i];\n    //   continent.draw(origin, {\n    //     r: 255,\n    //     g: 0,\n    //     b: 255,\n    //     a: 1,\n    //   });\n    // }\n  }\n\n  draw() {\n    this.rotator.degree += this.speed;\n    const positionAffineVector = new Vector2(this.distanceFromSun, 0).toAffine(\n      true\n    );\n    const rotateAffineMatrix = this.rotator.getRotateAffineMatrix();\n    this.position = rotateAffineMatrix\n      .multiplyVector(positionAffineVector)\n      .toVector2();\n    const drawPosition = convertCartesianToScreenPoint(\n      this.canvas,\n      this.position\n    );\n\n    this.ctx.save();\n    this.ctx.beginPath();\n    this.ctx.arc(\n      drawPosition.x,\n      drawPosition.y,\n      this.radius,\n      0,\n      2 * Math.PI,\n      false\n    );\n    this.ctx.fillStyle = `rgba(${\n      this.greenness ? 255 - this.greenness : 0\n    }, ${0}, ${this.greenness ?? 0}, ${1})`;\n    this.ctx.fill();\n\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.fillStyle = \"white\";\n    this.ctx.fillText(\n      this.name,\n      drawPosition.x,\n      drawPosition.y + this.radius + 15\n    );\n    this.ctx.closePath();\n    this.ctx.restore();\n\n    this.drawContinents(drawPosition);\n  }\n}\n","import { convertCartesianToScreenPoint } from \"../../utils/cartesian\";\nimport { Vector2 } from \"../../utils/math/Vector2\";\n\nexport class Sun {\n  canvas: HTMLCanvasElement;\n  radius = 130;\n  color = \"#FFFF4D\";\n  brightness: number = 0;\n  position: Vector2 = new Vector2(0, 0);\n  MIN_BRIGHTNESS = 5;\n  MAX_BRIGHTNESS = 30;\n  constructor(canvas: HTMLCanvasElement) {\n    this.canvas = canvas;\n  }\n\n  setBrightness(brightness: number) {\n    console.log(brightness);\n    this.brightness = brightness;\n  }\n\n  clampBrightnessRadius(radius: number, clampMaxValue: number) {\n    const adjustedRadius = radius * 10000000;\n\n    if (adjustedRadius > clampMaxValue) {\n      return clampMaxValue;\n    }\n    if (adjustedRadius < 0) {\n      return 5;\n    }\n    return adjustedRadius;\n  }\n\n  drawBrightnessInner(drawPosition: Vector2, ctx: CanvasRenderingContext2D) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(\n      drawPosition.x,\n      drawPosition.y,\n      this.radius +\n        this.clampBrightnessRadius(this.brightness, this.MAX_BRIGHTNESS),\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.fillStyle = \"rgba(255, 255, 255, 0.4)\";\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawBrightnessOuter(drawPosition: Vector2, ctx: CanvasRenderingContext2D) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(\n      drawPosition.x,\n      drawPosition.y,\n      this.radius +\n        this.clampBrightnessRadius(this.brightness, this.MAX_BRIGHTNESS) * 2,\n      0,\n      2 * Math.PI,\n      false\n    );\n    ctx.fillStyle = \"rgba(255, 255, 255, 0.2)\";\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawSun(drawPosition: Vector2, ctx: CanvasRenderingContext2D) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(drawPosition.x, drawPosition.y, this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.restore();\n  }\n  draw() {\n    const ctx = this.canvas.getContext(\"2d\")!;\n    const drawPosition = convertCartesianToScreenPoint(\n      this.canvas,\n      this.position\n    );\n    this.drawBrightnessInner(drawPosition, ctx);\n    this.drawBrightnessOuter(drawPosition, ctx);\n    this.drawSun(drawPosition, ctx);\n  }\n}\n","import {\n  changeRelativeValueToRealValue,\n  changeRelativeValueToRealValueInversed,\n  clamp,\n} from \"utils/clamp\";\nimport { Planet } from \"./Planet\";\nimport { Sun } from \"./Sun\";\n\nexport class GalaxyCanvas {\n  private fps = 24;\n  element: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n  width: number = 0;\n  height: number = 0;\n  sun: Sun;\n  planets: Array<Planet> = [];\n  requestAnimationFrameId: number;\n  MIN_PLANET_SIZE = 15;\n  MAX_PLANET_SIZE = 100;\n  constructor(element: HTMLCanvasElement) {\n    this.element = element;\n    this.ctx = element.getContext(\"2d\")!;\n\n    this.sun = new Sun(element);\n\n    this.render();\n    this.requestAnimationFrameId = requestAnimationFrame(this.render);\n    this.planets = [];\n    // this.continents.push(new Continent(element, Continent1, 100));\n    // this.continents.push(new Continent(element, Continent2, 100));\n    // this.continents.push(new Continent(element, Continent3, 100));\n    // this.continents.push(new Continent(element, Continent4, 100));\n    // this.continents.push(new Continent(element, Continent5, 100));\n    // this.continents.push(new Continent(element, Continent6, 100));\n    // this.continents.push(new Continent(element, Continent7, 100));\n    // this.continents.push(new Continent(element, Continent8, 100));\n    // this.continents.push(new Continent(element, Continent9, 100));\n    // this.continents.push(new Continent(element, Continent10, 100));\n    this.initialize();\n  }\n  updateFrame = () => {\n    // this.drawAll();\n    this.render();\n    setTimeout(() => {\n      this.requestAnimationFrameId = requestAnimationFrame(\n        this.updateFrame.bind(this)\n      );\n    }, 1000 / this.fps);\n  };\n\n  addPlanet(\n    name: string,\n    increaseRatio: number,\n    correlationCoefficient: number,\n    volume: number,\n    price: number,\n    support: Array<number>,\n    resistance: Array<number>\n  ) {\n    console.log(correlationCoefficient, increaseRatio, name);\n    const minDistance = this.sun.radius + 10;\n    const maxDistance = 400 + this.sun.radius;\n    const distance = changeRelativeValueToRealValueInversed(\n      // the bigger the correlation coefficient\n      // the more similar is it to the sun\n      correlationCoefficient,\n      -0.1,\n      0.2,\n      minDistance,\n      maxDistance\n    );\n    const maxSpeed = 0.3;\n    const minSpeed = 0.02;\n\n    const speed = changeRelativeValueToRealValue(\n      increaseRatio,\n      0,\n      1,\n      minSpeed,\n      maxSpeed\n    );\n\n    const size = changeRelativeValueToRealValue(\n      volume,\n      615_291_230_759, // xdc market cap\n      93_930_235_541_513, //btc market cap - 500_000_000_000_000\n\n      this.MIN_PLANET_SIZE,\n      this.MAX_PLANET_SIZE\n    );\n    const planet = new Planet(\n      this.element,\n      distance,\n      speed,\n      size,\n      name,\n      price,\n      support,\n      resistance\n    );\n    this.planets.push(planet);\n  }\n\n  initialize() {\n    // this.planets.push(new Planet(this.element, this.sun.radius + 50, 1, 80));\n  }\n\n  setWidth(width: number, devicePixelRatio?: number) {\n    this.width = width;\n    this.element.width = devicePixelRatio ? width * devicePixelRatio : width;\n    this.element.style.width = `${width}px`;\n  }\n\n  setHeight(height: number, devicePixelRatio?: number) {\n    this.height = height;\n    this.element.height = devicePixelRatio ? height * devicePixelRatio : height;\n    this.element.style.height = `${height}px`;\n  }\n\n  setSize(width: number, height: number, devicePixelRatio?: number) {\n    this.setWidth(width, devicePixelRatio);\n    this.setHeight(height, devicePixelRatio);\n  }\n\n  drawBackground() {\n    // this.ctx.fillStyle = \"black\";\n    // this.ctx.fillRect(0, 0, this.width, this.height);\n  }\n\n  render = () => {\n    this.clear();\n    this.drawBackground();\n    this.drawScene();\n    setTimeout(() => {\n      requestAnimationFrame(this.render.bind(this));\n    }, 1000 / this.fps);\n  };\n\n  drawScene() {\n    this.drawGalaxyComponents();\n  }\n\n  drawDummy() {}\n\n  drawGalaxyComponents() {\n    this.sun.draw();\n    for (const planet of this.planets) {\n      planet.draw();\n    }\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  destroy() {\n    this.clear();\n    this.planets = [];\n  }\n}\n","import { CryptoContext } from \"context/CryptoContext\";\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { GalaxyCanvas } from \"./Canvas\";\n\ninterface Props {}\n\nconst Galaxy: React.FC<Props> = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const divRef = useRef<HTMLDivElement>(null);\n  const galaxyCanvasRef = useRef<GalaxyCanvas | null>(null);\n  const { cryptoData } = useContext(CryptoContext);\n\n  useEffect(() => {\n    if (!canvasRef.current) {\n      return () => {};\n    }\n    const galaxyCanvas = new GalaxyCanvas(canvasRef.current);\n    galaxyCanvasRef.current = galaxyCanvas;\n    return () => {\n      if (galaxyCanvasRef.current) {\n        galaxyCanvasRef.current.destroy();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!cryptoData || !galaxyCanvasRef.current) {\n      return;\n    }\n    for (const crypto of cryptoData) {\n      if (crypto[0] === \"KRW-BTC\") {\n        //krw-btc is sun\n        galaxyCanvasRef.current.sun.setBrightness(crypto[1].increaseRatio);\n      } else {\n        if (\n          !galaxyCanvasRef.current.planets\n            .map((planet) => planet.name)\n            .includes(crypto[0]) &&\n          crypto[1].coefficient &&\n          crypto[1].volume &&\n          crypto[1].currentPrice &&\n          crypto[1].support &&\n          crypto[1].resistance\n        ) {\n          galaxyCanvasRef.current.addPlanet(\n            crypto[0],\n            crypto[1].increaseRatio,\n            crypto[1].coefficient,\n            crypto[1].volume,\n            crypto[1].currentPrice,\n            crypto[1].support,\n            crypto[1].resistance\n          );\n        }\n      }\n    }\n  }, [cryptoData]);\n\n  useEffect(() => {\n    const onResize = () => {\n      if (!divRef.current || !galaxyCanvasRef.current) {\n        return;\n      }\n      const rect = divRef.current.getBoundingClientRect();\n\n      galaxyCanvasRef.current.setSize(rect.width, rect.height);\n      galaxyCanvasRef.current.drawScene();\n    };\n\n    onResize();\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        position: \"fixed\",\n        background:\n          \"linear-gradient(111.08deg, rgba(0, 0, 0, 0.8) 5.71%, rgba(0, 15, 45, 0.8) 54.7%, rgba(0, 0, 0, 0.8) 98.84%)\",\n      }}\n      ref={divRef}\n    >\n      <canvas ref={canvasRef} />\n    </div>\n  );\n};\n\nexport default Galaxy;\n","import React, { useRef } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Galaxy from \"./components/Galaxy\";\nimport { CryptoContextProvider } from \"./context/CryptoContext\";\n\nfunction App() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: \"100vh\",\n        backgroundColor: \"black\",\n      }}\n    >\n      {/* <header>\n        <h1>Crypto Galaxy</h1>\n      </header> */}\n      <CryptoContextProvider>\n        <Galaxy />\n      </CryptoContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  // <React.StrictMode>\n  <App />\n  // </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}